<div class="exercise-container">
  <div class="header">
    <div class="header-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"/>
      </svg>
    </div>
    <h1>Übungsaufgaben Labor</h1>
  </div>

  <div class="exercise-list">
    @for (exercise of exercises(); track exercise.id) {
      <div class="exercise-card"
           [class.completed]="exercise.status === 'completed'"
           [class.in-progress]="exercise.status === 'in-progress'"
           (click)="onExerciseClick(exercise)">
        <div class="exercise-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zm-9-9h8v2h-8v-2zm0 4h5v2H9v-2z"/>
          </svg>
        </div>

        <div class="exercise-content">
          <h2>{{ exercise.title }}</h2>
          @if (exercise.description) {
            <p class="description">{{ exercise.description }}</p>
          }

          <div class="progress-section" (click)="$event.stopPropagation()">
            <div class="progress-header">
              <span class="progress-label">Fortschritt</span>
              <span class="progress-value">{{ exercise.progress }}%</span>
            </div>

            <div class="progress-bar-container">
              <div class="progress-bar" [style.width.%]="exercise.progress"></div>
            </div>

            <div class="progress-controls">
              <input
                type="range"
                min="0"
                max="100"
                step="10"
                [value]="exercise.progress"
                (input)="onProgressChange(exercise.id, $event)"
                class="progress-slider"
              />
            </div>
          </div>

          <div class="status-badge" [class]="exercise.status">
            @if (exercise.status === 'not-started') {
              <span>Nicht begonnen</span>
            } @else if (exercise.status === 'in-progress') {
              <span>In Bearbeitung</span>
            } @else {
              <span>✓ Abgeschlossen</span>
            }
          </div>
        </div>
      </div>
    }
  </div>
</div>
